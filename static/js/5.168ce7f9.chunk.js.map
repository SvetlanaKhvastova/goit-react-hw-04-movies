{"version":3,"sources":["services/services.js","pages/MovieDetailsPage/MovieDetailsPage.jsx","images/default_poster.jpg","pages/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["key","a","url","axios","get","response","data","results","search","movieId","cast","defaults","baseURL","services","getTrending","searchMovies","getMovieDetails","getMovieCredits","getMovieReviews","Cast","lazy","Reviews","MovieDetailsPage","state","movieDetails","comeBackBtnClick","props","history","location","from","push","this","match","params","then","setState","original_title","popularity","poster_path","title","vote_average","vote_count","overview","genres","className","s","details__page","details__page__film","details__page__foto","alt","src","defaultPoster","details__page__description","map","genre","id","name","type","onClick","button","information_block","information","activeClassName","active","to","pathname","fallback","path","render","prop","Component","module","exports"],"mappings":"sMACIA,EAAG,mC,4CAGP,kCAAAC,EAAA,6DACMC,EADN,sCAC2CF,GAD3C,SAEyBG,IAAMC,IAAIF,GAFnC,cAEQG,EAFR,gBAGqBA,EAASC,KAH9B,cAGQA,EAHR,gBAIwBA,EAAKC,QAJ7B,cAIQA,EAJR,yBAMSA,GANT,6C,kEASA,WAA4BC,GAA5B,qBAAAP,EAAA,6DACMC,EADN,6BACkCM,EADlC,oBACoDR,GADpD,SAEyBG,IAAMC,IAAIF,GAFnC,cAEQG,EAFR,gBAGqBA,EAASC,KAH9B,cAGQA,EAHR,gBAIwBA,EAAKC,QAJ7B,cAIQA,EAJR,yBAMSA,GANT,6C,kEASA,WAA+BE,GAA/B,mBAAAR,EAAA,6DACMC,EADN,gBACqBO,EADrB,oBACwCT,GADxC,SAEyBG,IAAMC,IAAIF,GAFnC,cAEQG,EAFR,gBAGqBA,EAASC,KAH9B,cAGQA,EAHR,yBAKSA,GALT,4C,kEAQA,WAA+BG,GAA/B,qBAAAR,EAAA,6DACMC,EADN,gBACqBO,EADrB,4BACgDT,GADhD,SAEyBG,IAAMC,IAAIF,GAFnC,cAEQG,EAFR,gBAGqBA,EAASC,KAH9B,cAGQA,EAHR,gBAIqBA,EAAKI,KAJ1B,cAIQA,EAJR,yBAMSA,GANT,6C,kEASA,WAA+BD,GAA/B,qBAAAR,EAAA,6DACMC,EADN,gBACqBO,EADrB,4BACgDT,GADhD,SAEyBG,IAAMC,IAAIF,GAFnC,cAEQG,EAFR,gBAGqBA,EAASC,KAH9B,cAGQA,EAHR,gBAIwBA,EAAKC,QAJ7B,cAIQA,EAJR,yBAMSA,GANT,6C,sBArCAJ,IAAMQ,SAASC,QAAf,gCA8CA,IAAMC,EAAW,CACfC,Y,2CACAC,a,4CACAC,gB,4CACAC,gB,4CACAC,gB,6CAGaL,a,yJC/CTM,EAAOC,gBAAK,kBAAM,iCAClBC,EAAUD,gBAAK,kBAAM,iCAErBE,E,4MACJC,MAAQ,CACNC,aAAc,I,EAahBC,iBAAmB,WAAO,IAAD,EACO,EAAKC,MAA3BC,EADe,EACfA,QAASC,EADM,EACNA,SAEjB,GAAIA,EAASL,OAASK,EAASL,MAAMM,KACnC,OAAOF,EAAQG,KAAKF,EAASL,MAAMM,MAGrCF,EAAQG,KAAK,M,uDAjBf,WAAqB,IAAD,OACVrB,EAAYsB,KAAKL,MAAMM,MAAMC,OAA7BxB,SAGRO,EAF4BH,UAApBG,iBAEQP,GAASyB,MAAK,SAAAV,GAE5B,EAAKW,SAAS,CAAEX,sB,oBAcpB,WAAU,IAAD,EAUHO,KAAKR,MAAMC,aARbY,EAFK,EAELA,eACAC,EAHK,EAGLA,WACAC,EAJK,EAILA,YACAC,EALK,EAKLA,MACAC,EANK,EAMLA,aACAC,EAPK,EAOLA,WACAC,EARK,EAQLA,SACAC,EATK,EASLA,OAGMlB,EAAqBM,KAArBN,iBAZD,EAcqBM,KAAKL,MAAzBM,EAdD,EAcCA,MAAOJ,EAdR,EAcQA,SACf,OACE,sBAAKgB,UAAWC,IAAEC,cAAlB,UACE,sBAAKF,UAAWC,IAAEE,oBAAlB,UACE,8BACE,qBACEH,UAAWC,IAAEG,oBACbC,IAAKb,EACLc,IACEZ,EAAW,UArDJ,mCAqDI,OAAuBA,GAAgBa,cAKxD,sBAAKP,UAAWC,IAAEO,2BAAlB,UACE,6BAAKb,IAEL,wCACA,4BAAIC,IACJ,yCACA,4BAAIC,IAEJ,8CACA,4BAAIJ,IAEJ,kDACA,4BAAID,IAEJ,uCACA,8BAAIM,EAAJ,OAEA,wCACA,6BACGC,GACCA,EAAOU,KAAI,SAACC,EAAOC,GACjB,OAAO,6BAAcD,EAAME,MAAXD,QAItB,wBACEE,KAAK,UACLC,QAASjC,EACTmB,UAAWC,IAAEc,OAHf,2BAUJ,gCACE,oBAAIf,UAAWC,IAAEe,kBAAjB,yBACA,qBAAIhB,UAAWC,IAAEgB,YAAjB,UACE,6BACE,eAAC,IAAD,CACEC,gBAAiBjB,IAAEkB,OACnBC,GAAI,CACFC,SAAS,GAAD,OAAKjC,EAAM9B,IAAX,SACRqB,MAAM,eAAMK,EAASL,QAJzB,UAOG,IAPH,aAWF,6BACE,cAAC,IAAD,CACEuC,gBAAiBjB,IAAEkB,OACnBC,GAAI,CACFC,SAAS,GAAD,OAAKjC,EAAM9B,IAAX,YACRqB,MAAM,eAAMK,EAASL,QAJzB,6BAaN,cAAC,WAAD,CAAU2C,SAAU,cAAC,UAAD,IAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,KAAI,UAAKnC,EAAMmC,KAAX,SACJC,OAAQ,SAAAC,GAAI,OAAI,cAAClD,EAAD,eAAUkD,OAE5B,cAAC,IAAD,CACEF,KAAI,UAAKnC,EAAMmC,KAAX,YACJC,OAAQ,SAAAC,GAAI,OAAI,cAAChD,EAAD,eAAagD,mB,GA7HZC,aAqIhBhD,a,gCCjJf,OAAe,cAA0B,4C,mBCCzCiD,EAAOC,QAAU,CAAC,cAAgB,wCAAwC,oBAAsB,8CAA8C,oBAAsB,8CAA8C,2BAA6B,qDAAqD,kBAAoB,4CAA4C,YAAc,sCAAsC,OAAS,iCAAiC,OAAS","file":"static/js/5.168ce7f9.chunk.js","sourcesContent":["import axios from 'axios';\r\nlet key = `ca68a7af060f5e9f7b7eefce94561f3e`;\r\naxios.defaults.baseURL = `https://api.themoviedb.org/3/`;\r\n\r\nasync function getTrending() {\r\n  let url = `trending/movie/week?api_key=${key}`;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  const results = await data.results;\r\n  // console.log(results);\r\n  return results;\r\n}\r\n\r\nasync function searchMovies(search) {\r\n  let url = `search/movie?query=${search}&api_key=${key}`;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  const results = await data.results;\r\n  // console.log(results);\r\n  return results;\r\n}\r\n\r\nasync function getMovieDetails(movieId) {\r\n  let url = `movie/${movieId}?api_key=${key}`;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  // console.log(data);\r\n  return data;\r\n}\r\n\r\nasync function getMovieCredits(movieId) {\r\n  let url = `movie/${movieId}/credits?api_key=${key}`;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  const cast = await data.cast;\r\n  // console.log(cast);\r\n  return cast;\r\n}\r\n\r\nasync function getMovieReviews(movieId) {\r\n  let url = `movie/${movieId}/reviews?api_key=${key}`;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  const results = await data.results;\r\n  // console.log(results);\r\n  return results;\r\n}\r\n\r\nconst services = {\r\n  getTrending,\r\n  searchMovies,\r\n  getMovieDetails,\r\n  getMovieCredits,\r\n  getMovieReviews,\r\n};\r\n\r\nexport default services;\r\n","import React, { Component, lazy, Suspense } from 'react';\r\nimport { NavLink, Route, Switch } from 'react-router-dom';\r\nimport services from '../../services/services';\r\nimport Spinner from '../../components/Loader/Loader';\r\nimport s from './MovieDetailsPage.module.css';\r\nimport defaultPoster from '../../images/default_poster.jpg';\r\n\r\nconst BASE_IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\r\n\r\nconst Cast = lazy(() => import('../../components/Cast/Cast'));\r\nconst Reviews = lazy(() => import('../../components/Reviews/Reviews'));\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movieDetails: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { movieId } = this.props.match.params;\r\n    const { getMovieDetails } = services;\r\n\r\n    getMovieDetails(movieId).then(movieDetails => {\r\n      // console.log(movieDetails);\r\n      this.setState({ movieDetails });\r\n    });\r\n  }\r\n\r\n  comeBackBtnClick = () => {\r\n    const { history, location } = this.props;\r\n\r\n    if (location.state && location.state.from) {\r\n      return history.push(location.state.from);\r\n    }\r\n\r\n    history.push('/');\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      original_title,\r\n      popularity,\r\n      poster_path,\r\n      title,\r\n      vote_average,\r\n      vote_count,\r\n      overview,\r\n      genres,\r\n    } = this.state.movieDetails;\r\n\r\n    const { comeBackBtnClick } = this;\r\n\r\n    const { match, location } = this.props;\r\n    return (\r\n      <div className={s.details__page}>\r\n        <div className={s.details__page__film}>\r\n          <div>\r\n            <img\r\n              className={s.details__page__foto}\r\n              alt={original_title}\r\n              src={\r\n                poster_path ? `${BASE_IMAGE_URL}${poster_path}` : defaultPoster\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className={s.details__page__description}>\r\n            <h2>{title}</h2>\r\n\r\n            <h3>Vote: </h3>\r\n            <p>{vote_average}</p>\r\n            <h3>Votes: </h3>\r\n            <p>{vote_count}</p>\r\n\r\n            <h3>Popularity: </h3>\r\n            <p>{popularity}</p>\r\n\r\n            <h3>Original title: </h3>\r\n            <p>{original_title}</p>\r\n\r\n            <h3>About</h3>\r\n            <p>{overview} </p>\r\n\r\n            <h3>Genres</h3>\r\n            <ul>\r\n              {genres &&\r\n                genres.map((genre, id) => {\r\n                  return <li key={id}>{genre.name}</li>;\r\n                })}\r\n            </ul>\r\n\r\n            <button\r\n              type=\"buttton\"\r\n              onClick={comeBackBtnClick}\r\n              className={s.button}\r\n            >\r\n              Go back\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h3 className={s.information_block}>Information</h3>\r\n          <ul className={s.information}>\r\n            <li>\r\n              <NavLink\r\n                activeClassName={s.active}\r\n                to={{\r\n                  pathname: `${match.url}/cast`,\r\n                  state: { ...location.state },\r\n                }}\r\n              >\r\n                {' '}\r\n                Casts\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink\r\n                activeClassName={s.active}\r\n                to={{\r\n                  pathname: `${match.url}/reviews`,\r\n                  state: { ...location.state },\r\n                }}\r\n              >\r\n                Reviews\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <Suspense fallback={<Spinner />}>\r\n          <Switch>\r\n            <Route\r\n              path={`${match.path}/cast`}\r\n              render={prop => <Cast {...prop} />}\r\n            />\r\n            <Route\r\n              path={`${match.path}/reviews`}\r\n              render={prop => <Reviews {...prop} />}\r\n            />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MovieDetailsPage;\r\n","export default __webpack_public_path__ + \"static/media/default_poster.c8ebe780.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details__page\":\"MovieDetailsPage_details__page__5Hk-c\",\"details__page__film\":\"MovieDetailsPage_details__page__film__2nIhF\",\"details__page__foto\":\"MovieDetailsPage_details__page__foto__1V0Z0\",\"details__page__description\":\"MovieDetailsPage_details__page__description__3uZGI\",\"information_block\":\"MovieDetailsPage_information_block__2xhgF\",\"information\":\"MovieDetailsPage_information__3nwLd\",\"active\":\"MovieDetailsPage_active__DPt9z\",\"button\":\"MovieDetailsPage_button___iLoh\"};"],"sourceRoot":""}